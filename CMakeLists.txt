CMAKE_MINIMUM_REQUIRED(VERSION 3.8)
PROJECT(KulkarNIX)

# setup the correct compiler
SET(CMAKE_CXX_COMPILER "x86_64-elf-g++")

# Create Output directory
SET(KOUTPUT_DIR Bin)
EXECUTE_PROCESS(
    COMMAND mkdir ${KOUTPUT_DIR}
    WORKING_DIRECTORY ${CMAKE_SOURCE_DIR}
)

# Setup output directories
SET(KNIX_OUTPUT_DIR ${CMAKE_CURRENT_SOURCE_DIR}/${KOUTPUT_DIR})
SET(CMAKE_LIBRARY_OUTPUT_DIRECTORY KNIX_OUTPUT_DIR) 
SET(CMAKE_ARCHIVE_OUTPUT_DIRECTORY KNIX_OUTPUT_DIR) 
SET(CMAKE_BINARY_OUTPUT_DIRECTORY  KNIX_OUTPUT_DIR) 

# Set up variables for whole project
SET(KNIX_ROOT_INC ${CMAKE_SOURCE_DIR}/inc)

# Add projects
ADD_SUBDIRECTORY(arch)
